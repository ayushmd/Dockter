syntax = "proto3";

import "google/protobuf/empty.proto";

option go_package = "github.com/ayush18023/Load_balancer_Fyp/rpc/masterrpc";

message MWhoAmIResponse{
    string State = 1;
}

message JoinServer{
    string url = 1; // ip:port
    string State = 2;
    float CpuUsage = 3;
    float MemUsage = 4;
    float DiskUsage = 5;
}

message JoinResponse{
    repeated JoinServer ServerPool = 1;
}

service MasterService {
    rpc WhoAmI(google.protobuf.Empty) returns (MWhoAmIResponse) {}
    rpc Join(JoinServer) returns (JoinResponse) {}
}